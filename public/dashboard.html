<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>KODA RAID | Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="/socket.io/socket.io.js"></script>
    <style>
        body { margin: 0; background: #0a0a0c; color: white; font-family: monospace; display: flex; height: 100vh; }
        
        /* Sidebar */
        aside { width: 260px; background: #121216; border-right: 1px solid #222; display: flex; flex-direction: column; padding: 20px; }
        .side-logo { width: 50px; margin: 0 auto 30px; }
        .nav-link { padding: 15px; color: #666; text-decoration: none; display: flex; align-items: center; gap: 10px; border-radius: 5px; }
        .nav-link.active { color: #ff4757; background: rgba(255, 71, 87, 0.1); }

        /* Main Content */
        main { flex: 1; display: flex; flex-direction: column; padding: 20px; }
        .header-stats { display: flex; gap: 20px; margin-bottom: 20px; }
        .stat-card { background: #121216; flex: 1; padding: 15px; border-radius: 10px; border-left: 4px solid #ff4757; }

        /* Console */
        #console { flex: 1; background: #000; border: 1px solid #222; border-radius: 10px; padding: 20px; overflow-y: auto; color: #0f0; font-size: 13px; line-height: 1.5; }
        .input-box { background: #121216; padding: 15px; margin-top: 15px; border-radius: 10px; display: flex; }
        input { flex: 1; background: transparent; border: none; color: white; outline: none; font-family: monospace; }
    </style>
</head>
<body>

    <aside>
        <img src="logo.png" class="side-logo">
        <a href="#" class="nav-link active"><i class="fas fa-terminal"></i> Console</a>
        <a href="#" class="nav-link"><i class="fas fa-ghost"></i> Raids</a>
        <a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a>
        <a href="/" class="nav-link" style="margin-top: auto;"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </aside>

    <main>
        <div class="header-stats">
            <div class="stat-card">Status: <span style="color:#0f0">Connected</span></div>
            <div class="stat-card">Active Tokens: 1,240</div>
            <div class="stat-card">Latency: 24ms</div>
        </div>

        <div id="console">
            <div>[SYSTEM] Welcome to KODA RAID Console...</div>
            <div>[SYSTEM] Awaiting commands...</div>
        </div>

        <div class="input-box">
            <span style="color: #ff4757; margin-right: 10px;">></span>
            <input type="text" id="cmdInput" placeholder="Enter raid command...">
        </div>
    </main>

    <script>
        const socket = io();
        const consoleDiv = document.getElementById('console');
        const input = document.getElementById('cmdInput');

        socket.on('new_message', (data) => {
            const line = document.createElement('div');
            line.innerHTML = `<span style="color:#555">[${new Date(data.timestamp).toLocaleTimeString()}]</span> ${data.text}`;
            consoleDiv.appendChild(line);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        });

        input.addEventListener('keypress', (e) => {
            if(e.key === 'Enter' && input.value) {
                socket.emit('send_message', { text: input.value });
                input.value = '';
            }
        });
    </script>
</body>
</html>